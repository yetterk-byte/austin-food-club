{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.215.0"},"children":{"ECSAustinFoodClubStack":{"id":"ECSAustinFoodClubStack","path":"ECSAustinFoodClubStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"AustinFoodClubVPC":{"id":"AustinFoodClubVPC","path":"ECSAustinFoodClubStack/AustinFoodClubVPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.215.0","metadata":[{"maxAzs":"*","natGateways":"*"}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"Acl":{"id":"Acl","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AustinFoodClubVPCPublicSubnet1RouteTableE435230D"},"subnetId":{"Ref":"AustinFoodClubVPCPublicSubnet1Subnet531E6C19"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"AustinFoodClubVPCIGWD8CEE361"},"routeTableId":{"Ref":"AustinFoodClubVPCPublicSubnet1RouteTableE435230D"}}}},"EIP":{"id":"EIP","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["AustinFoodClubVPCPublicSubnet1EIP0D473CE9","AllocationId"]},"subnetId":{"Ref":"AustinFoodClubVPCPublicSubnet1Subnet531E6C19"},"tags":[{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet2"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"Acl":{"id":"Acl","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet2"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AustinFoodClubVPCPublicSubnet2RouteTable3C8EB7A3"},"subnetId":{"Ref":"AustinFoodClubVPCPublicSubnet2SubnetB4ACF79B"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"AustinFoodClubVPCIGWD8CEE361"},"routeTableId":{"Ref":"AustinFoodClubVPCPublicSubnet2RouteTable3C8EB7A3"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet1"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"Acl":{"id":"Acl","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet1"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AustinFoodClubVPCPrivateSubnet1RouteTable41D7ED26"},"subnetId":{"Ref":"AustinFoodClubVPCPrivateSubnet1SubnetBC8D84A7"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"AustinFoodClubVPCPublicSubnet1NATGatewayBC822848"},"routeTableId":{"Ref":"AustinFoodClubVPCPrivateSubnet1RouteTable41D7ED26"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.215.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet2"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"Acl":{"id":"Acl","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet2"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AustinFoodClubVPCPrivateSubnet2RouteTable8588A17D"},"subnetId":{"Ref":"AustinFoodClubVPCPrivateSubnet2SubnetC4C88CC9"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"AustinFoodClubVPCPublicSubnet1NATGatewayBC822848"},"routeTableId":{"Ref":"AustinFoodClubVPCPrivateSubnet2RouteTable8588A17D"}}}}}},"IGW":{"id":"IGW","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ECSAustinFoodClubStack/AustinFoodClubVPC"}]}}},"VPCGW":{"id":"VPCGW","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"AustinFoodClubVPCIGWD8CEE361"},"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.215.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"ECSAustinFoodClubStack/AustinFoodClubVPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"ECSAustinFoodClubStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.215.0"},"children":{"Staging":{"id":"Staging","path":"ECSAustinFoodClubStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"Role":{"id":"Role","path":"ECSAustinFoodClubStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Handler":{"id":"Handler","path":"ECSAustinFoodClubStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"DatabaseSecret":{"id":"DatabaseSecret","path":"ECSAustinFoodClubStack/DatabaseSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.215.0","metadata":[{"generateSecretString":{"secretStringTemplate":"*","generateStringKey":"*","passwordLength":"*","excludeCharacters":"*"}}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/DatabaseSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{"secretStringTemplate":"{\"username\":\"postgres\"}","generateStringKey":"password","passwordLength":16,"excludeCharacters":"\"@/\\"}}}},"Attachment":{"id":"Attachment","path":"ECSAustinFoodClubStack/DatabaseSecret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.215.0","metadata":[{"secret":"*","target":"*"}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/DatabaseSecret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"DatabaseSecret86DBB7B3"},"targetId":{"Ref":"DatabaseB269D8BB"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"DatabaseSecurityGroup":{"id":"DatabaseSecurityGroup","path":"ECSAustinFoodClubStack/DatabaseSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.215.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":false},{"addIngressRule":["*",{},"*"]}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/DatabaseSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for Austin Food Club database","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"from ECSAustinFoodClubStackECSSecurityGroup5A025BE4:5432":{"id":"from ECSAustinFoodClubStackECSSecurityGroup5A025BE4:5432","path":"ECSAustinFoodClubStack/DatabaseSecurityGroup/from ECSAustinFoodClubStackECSSecurityGroup5A025BE4:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow ECS to connect to PostgreSQL","fromPort":5432,"groupId":{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ECSSecurityGroupA14DBE7D","GroupId"]},"toPort":5432}}}}},"Database":{"id":"Database","path":"ECSAustinFoodClubStack/Database","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.215.0","metadata":[{"engine":{"engineType":"*","singleUserRotationApplication":"*","engineVersion":{"fullVersion":"*","majorVersion":"*"},"parameterGroupFamily":"*","engineFamily":"*","defaultUsername":"*"},"credentials":"*","instanceType":"*","vpc":"*","vpcSubnets":{"subnetType":"Private"},"securityGroups":["*"],"publiclyAccessible":false,"removalPolicy":"destroy","deleteAutomatedBackups":true,"databaseName":"*"}]},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"ECSAustinFoodClubStack/Database/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.215.0","metadata":[{"description":"*","vpc":"*","vpcSubnets":{"subnetType":"Private"},"removalPolicy":"*"}]},"children":{"Default":{"id":"Default","path":"ECSAustinFoodClubStack/Database/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for Database database","subnetIds":[{"Ref":"AustinFoodClubVPCPrivateSubnet1SubnetBC8D84A7"},{"Ref":"AustinFoodClubVPCPrivateSubnet2SubnetC4C88CC9"}]}}}}},"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/Database/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"100","copyTagsToSnapshot":true,"dbInstanceClass":"db.t3.micro","dbName":"austinfoodclubdb","dbSubnetGroupName":{"Ref":"DatabaseSubnetGroup7D60F180"},"deleteAutomatedBackups":true,"engine":"postgres","engineVersion":"15","masterUsername":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DatabaseSecret86DBB7B3"},":SecretString:username::}}"]]},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DatabaseSecret86DBB7B3"},":SecretString:password::}}"]]},"publiclyAccessible":false,"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]}]}}}}},"BackendRepository":{"id":"BackendRepository","path":"ECSAustinFoodClubStack/BackendRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.215.0","metadata":[]}},"BackendBuildProject":{"id":"BackendBuildProject","path":"ECSAustinFoodClubStack/BackendBuildProject","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.Project","version":"2.215.0","metadata":[{"projectName":"*","environment":{"buildImage":{"type":"*","defaultComputeType":"BUILD_GENERAL1_SMALL","imageId":"*","imagePullPrincipalType":"CODEBUILD","secretsManagerCredentials":"*","repository":"*"},"privileged":true,"environmentVariables":"*"},"buildSpec":"*"}]},"children":{"Role":{"id":"Role","path":"ECSAustinFoodClubStack/BackendBuildProject/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"ECSAustinFoodClubStack/BackendBuildProject/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendBuildProject/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECSAustinFoodClubStack/BackendBuildProject/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendBuildProject/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:logs:us-east-1:229037375031:log-group:/aws/codebuild/",{"Ref":"BackendBuildProject66F920F7"},":*"]]},{"Fn::Join":["",["arn:aws:logs:us-east-1:229037375031:log-group:/aws/codebuild/",{"Ref":"BackendBuildProject66F920F7"}]]}]},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:codebuild:us-east-1:229037375031:report-group/",{"Ref":"BackendBuildProject66F920F7"},"-*"]]}},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:CompleteLayerUpload","ecr:GetDownloadUrlForLayer","ecr:InitiateLayerUpload","ecr:PutImage","ecr:UploadLayerPart"],"Effect":"Allow","Resource":"arn:aws:ecr:us-east-1:229037375031:repository/austin-food-club-backend"},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"BackendBuildProjectRoleDefaultPolicyF8A604A9","roles":[{"Ref":"BackendBuildProjectRoleA43C7559"}]}}}}}}},"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendBuildProject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"NO_ARTIFACTS"},"cache":{"type":"NO_CACHE"},"encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/amazonlinux2-x86_64-standard:5.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":true,"computeType":"BUILD_GENERAL1_SMALL","environmentVariables":[{"name":"AWS_DEFAULT_REGION","type":"PLAINTEXT","value":"us-east-1"},{"name":"AWS_ACCOUNT_ID","type":"PLAINTEXT","value":"229037375031"},{"name":"IMAGE_NAME","type":"PLAINTEXT","value":"austin-food-club-backend"}]},"name":"austin-food-club-backend-build","serviceRole":{"Fn::GetAtt":["BackendBuildProjectRoleA43C7559","Arn"]},"source":{"type":"NO_SOURCE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"pre_build\": {\n      \"commands\": [\n        \"echo Logging in to Amazon ECR...\",\n        \"aws ecr get-login-password --region $AWS_DEFAULT_REGION | docker login --username AWS --password-stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com\",\n        \"echo Build started on `date`\",\n        \"echo Building the Docker image...\",\n        \"REPOSITORY_URI=$AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com/austin-food-club-backend\",\n        \"COMMIT_HASH=$(echo $CODEBUILD_RESOLVED_SOURCE_VERSION | cut -c 1-7)\",\n        \"IMAGE_TAG=${COMMIT_HASH:=latest}\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"echo Build started on `date`\",\n        \"echo Building the Docker image...\",\n        \"cd server\",\n        \"docker build -t $IMAGE_NAME:$IMAGE_TAG .\",\n        \"docker tag $IMAGE_NAME:$IMAGE_TAG $REPOSITORY_URI:$IMAGE_TAG\",\n        \"docker tag $IMAGE_NAME:$IMAGE_TAG $REPOSITORY_URI:latest\"\n      ]\n    },\n    \"post_build\": {\n      \"commands\": [\n        \"echo Build completed on `date`\",\n        \"echo Pushing the Docker images...\",\n        \"docker push $REPOSITORY_URI:$IMAGE_TAG\",\n        \"docker push $REPOSITORY_URI:latest\",\n        \"echo Writing image definitions file...\",\n        \"printf '[{\\\"name\\\":\\\"austin-food-club-backend\\\",\\\"imageUri\\\":\\\"%s\\\"}]' $REPOSITORY_URI:$IMAGE_TAG > imagedefinitions.json\",\n        \"cat imagedefinitions.json\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"files\": [\n      \"imagedefinitions.json\"\n    ],\n    \"name\": \"austin-food-club-backend-$(date +%Y-%m-%d)\"\n  }\n}"}}}}}},"AustinFoodClubCluster":{"id":"AustinFoodClubCluster","path":"ECSAustinFoodClubStack/AustinFoodClubCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.215.0","metadata":[{"vpc":"*","clusterName":"*"}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/AustinFoodClubCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"austin-food-club-cluster"}}}}},"BackendLogGroup":{"id":"BackendLogGroup","path":"ECSAustinFoodClubStack/BackendLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*","retention":7,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/austin-food-club-backend","retentionInDays":7}}}}},"BackendTaskDefinition":{"id":"BackendTaskDefinition","path":"ECSAustinFoodClubStack/BackendTaskDefinition","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.215.0","metadata":["*","*","*","*","*","*","*"]},"children":{"TaskRole":{"id":"TaskRole","path":"ECSAustinFoodClubStack/BackendTaskDefinition/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}}]},"children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"ECSAustinFoodClubStack/BackendTaskDefinition/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendTaskDefinition/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendTaskDefinition/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"cpu":256,"essential":true,"image":{"Fn::Join":["",["229037375031.dkr.ecr.us-east-1.",{"Ref":"AWS::URLSuffix"},"/austin-food-club-backend:latest"]]},"memory":512,"name":"BackendContainer","portMappings":[{"containerPort":3001,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"BackendLogGroupDA10F1B2"},"awslogs-stream-prefix":"backend","awslogs-region":"us-east-1"}},"environment":[{"name":"NODE_ENV","value":"production"},{"name":"PORT","value":"3001"}],"secrets":[{"name":"DATABASE_URL","valueFrom":{"Ref":"DatabaseSecret86DBB7B3"}}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["BackendTaskDefinitionExecutionRoleDA72B768","Arn"]},"family":"ECSAustinFoodClubStackBackendTaskDefinition1AD7E381","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["BackendTaskDefinitionTaskRoleE757CE00","Arn"]}}}},"BackendContainer":{"id":"BackendContainer","path":"ECSAustinFoodClubStack/BackendTaskDefinition/BackendContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.215.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"ECSAustinFoodClubStack/BackendTaskDefinition/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"roleName":"*"},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"ECSAustinFoodClubStack/BackendTaskDefinition/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendTaskDefinition/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ECSAustinFoodClubStack/BackendTaskDefinition/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendTaskDefinition/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":"arn:aws:ecr:us-east-1:229037375031:repository/austin-food-club-backend"},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["BackendLogGroupDA10F1B2","Arn"]}},{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Ref":"DatabaseSecret86DBB7B3"}}],"Version":"2012-10-17"},"policyName":"BackendTaskDefinitionExecutionRoleDefaultPolicy0750C44A","roles":[{"Ref":"BackendTaskDefinitionExecutionRoleDA72B768"}]}}}}}}}}},"ECSSecurityGroup":{"id":"ECSSecurityGroup","path":"ECSAustinFoodClubStack/ECSSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.215.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":true},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*"]},{"addIngressRule":["*",{},"*",false]}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/ECSSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for ECS service","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":3001,"toPort":3001,"description":"Allow HTTP traffic from ALB"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"from ECSAustinFoodClubStackBackendServiceLBSecurityGroupF6939AEC:3001":{"id":"from ECSAustinFoodClubStackBackendServiceLBSecurityGroupF6939AEC:3001","path":"ECSAustinFoodClubStack/ECSSecurityGroup/from ECSAustinFoodClubStackBackendServiceLBSecurityGroupF6939AEC:3001","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","fromPort":3001,"groupId":{"Fn::GetAtt":["ECSSecurityGroupA14DBE7D","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["BackendServiceLBSecurityGroup2B9BA648","GroupId"]},"toPort":3001}}}}},"BackendService":{"id":"BackendService","path":"ECSAustinFoodClubStack/BackendService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs_patterns.ApplicationLoadBalancedFargateService","version":"2.215.0"},"children":{"LB":{"id":"LB","path":"ECSAustinFoodClubStack/BackendService/LB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.215.0","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendService/LB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["BackendServiceLBSecurityGroup2B9BA648","GroupId"]}],"subnets":[{"Ref":"AustinFoodClubVPCPublicSubnet1Subnet531E6C19"},{"Ref":"AustinFoodClubVPCPublicSubnet2SubnetB4ACF79B"}],"type":"application"}}},"SecurityGroup":{"id":"SecurityGroup","path":"ECSAustinFoodClubStack/BackendService/LB/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.215.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":false},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*",false]},{"addEgressRule":["*",{},"*",true]}]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendService/LB/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatically created Security Group for ELB ECSAustinFoodClubStackBackendServiceLB2E9C9E67","securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow from anyone on port 80"}],"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}},"to ECSAustinFoodClubStackECSSecurityGroup5A025BE4:3001":{"id":"to ECSAustinFoodClubStackECSSecurityGroup5A025BE4:3001","path":"ECSAustinFoodClubStack/BackendService/LB/SecurityGroup/to ECSAustinFoodClubStackECSSecurityGroup5A025BE4:3001","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","destinationSecurityGroupId":{"Fn::GetAtt":["ECSSecurityGroupA14DBE7D","GroupId"]},"fromPort":3001,"groupId":{"Fn::GetAtt":["BackendServiceLBSecurityGroup2B9BA648","GroupId"]},"ipProtocol":"tcp","toPort":3001}}}}},"PublicListener":{"id":"PublicListener","path":"ECSAustinFoodClubStack/BackendService/LB/PublicListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.215.0","metadata":["*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendService/LB/PublicListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"BackendServiceLBPublicListenerECSGroupD43CD2AB"}}],"loadBalancerArn":{"Ref":"BackendServiceLB09608E98"},"port":80,"protocol":"HTTP"}}},"ECSGroup":{"id":"ECSGroup","path":"ECSAustinFoodClubStack/BackendService/LB/PublicListener/ECSGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.215.0"},"children":{"Resource":{"id":"Resource","path":"ECSAustinFoodClubStack/BackendService/LB/PublicListener/ECSGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckIntervalSeconds":30,"healthCheckPath":"/api/health","healthCheckTimeoutSeconds":5,"healthyThresholdCount":2,"matcher":{"httpCode":"200"},"port":80,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","unhealthyThresholdCount":3,"vpcId":{"Ref":"AustinFoodClubVPCDAF642A5"}}}}}}}}}},"LoadBalancerDNS":{"id":"LoadBalancerDNS","path":"ECSAustinFoodClubStack/BackendService/LoadBalancerDNS","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"ServiceURL":{"id":"ServiceURL","path":"ECSAustinFoodClubStack/BackendService/ServiceURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Service":{"id":"Service","path":"ECSAustinFoodClubStack/BackendService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.215.0","metadata":["*"]},"children":{"Service":{"id":"Service","path":"ECSAustinFoodClubStack/BackendService/Service/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"AustinFoodClubCluster80984BC2"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50},"desiredCount":1,"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"BackendServiceLBPublicListenerECSGroupD43CD2AB"},"containerName":"BackendContainer","containerPort":3001}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"AustinFoodClubVPCPrivateSubnet1SubnetBC8D84A7"},{"Ref":"AustinFoodClubVPCPrivateSubnet2SubnetC4C88CC9"}],"securityGroups":[{"Fn::GetAtt":["ECSSecurityGroupA14DBE7D","GroupId"]}]}},"serviceName":"austin-food-club-backend","taskDefinition":{"Ref":"BackendTaskDefinitionEC224DE6"}}}}}}}},"DatabaseEndpoint":{"id":"DatabaseEndpoint","path":"ECSAustinFoodClubStack/DatabaseEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"DatabaseSecretArn":{"id":"DatabaseSecretArn","path":"ECSAustinFoodClubStack/DatabaseSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"ECSClusterName":{"id":"ECSClusterName","path":"ECSAustinFoodClubStack/ECSClusterName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"BackendServiceName":{"id":"BackendServiceName","path":"ECSAustinFoodClubStack/BackendServiceName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"BackendLoadBalancerUrl":{"id":"BackendLoadBalancerUrl","path":"ECSAustinFoodClubStack/BackendLoadBalancerUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"ECRRepositoryUri":{"id":"ECRRepositoryUri","path":"ECSAustinFoodClubStack/ECRRepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CodeBuildProjectName":{"id":"CodeBuildProjectName","path":"ECSAustinFoodClubStack/CodeBuildProjectName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ECSAustinFoodClubStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ECSAustinFoodClubStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ECSAustinFoodClubStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ECSAustinFoodClubStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"DomainAustinFoodClubStack":{"id":"DomainAustinFoodClubStack","path":"DomainAustinFoodClubStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"AustinFoodClubHostedZone":{"id":"AustinFoodClubHostedZone","path":"DomainAustinFoodClubStack/AustinFoodClubHostedZone","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.HostedZone","version":"2.215.0","metadata":[{"zoneName":"*","comment":"*"}]},"children":{"Resource":{"id":"Resource","path":"DomainAustinFoodClubStack/AustinFoodClubHostedZone/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHostedZone","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HostedZone","aws:cdk:cloudformation:props":{"hostedZoneConfig":{"comment":"Hosted zone for austinfoodclub.com"},"name":"austinfoodclub.com."}}}}},"AustinFoodClubCertificate":{"id":"AustinFoodClubCertificate","path":"DomainAustinFoodClubStack/AustinFoodClubCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.215.0","metadata":[{"domainName":"*","subjectAlternativeNames":"*","validation":"*"}]},"children":{"Resource":{"id":"Resource","path":"DomainAustinFoodClubStack/AustinFoodClubCertificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"austinfoodclub.com","domainValidationOptions":[{"domainName":"austinfoodclub.com","hostedZoneId":{"Ref":"AustinFoodClubHostedZone5538A47B"}},{"domainName":"api.austinfoodclub.com","hostedZoneId":{"Ref":"AustinFoodClubHostedZone5538A47B"}}],"subjectAlternativeNames":["api.austinfoodclub.com"],"tags":[{"key":"Name","value":"DomainAustinFoodClubStack/AustinFoodClubCertificate"}],"validationMethod":"DNS"}}}}},"WebAppBucket":{"id":"WebAppBucket","path":"DomainAustinFoodClubStack/WebAppBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}},"AustinFoodClubDistribution":{"id":"AustinFoodClubDistribution","path":"DomainAustinFoodClubStack/AustinFoodClubDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.215.0","metadata":[{"defaultBehavior":{"origin":"*","viewerProtocolPolicy":"redirect-to-https","cachePolicy":"*","originRequestPolicy":"*"},"domainNames":"*","certificate":"*","comment":"*","priceClass":"PriceClass_100","httpVersion":"http2","enableIpv6":true}]},"children":{"Origin1":{"id":"Origin1","path":"DomainAustinFoodClubStack/AustinFoodClubDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"DomainAustinFoodClubStack/AustinFoodClubDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":"basicaustinfoodclubstack-webappbucket8f6fa179-shyzfbe9qamw.s3-website-us-east-1.amazonaws.com","id":"DomainAustinFoodClubStackAustinFoodClubDistributionOrigin16B31F8AD","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"http-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"DomainAustinFoodClubStackAustinFoodClubDistributionOrigin16B31F8AD","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"originRequestPolicyId":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","viewerProtocolPolicy":"redirect-to-https"},"aliases":["austinfoodclub.com"],"comment":"CloudFront distribution for austinfoodclub.com","httpVersion":"http2","ipv6Enabled":true,"priceClass":"PriceClass_100","viewerCertificate":{"acmCertificateArn":{"Ref":"AustinFoodClubCertificate012FBAFE"},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"ExistingALB":{"id":"ExistingALB","path":"DomainAustinFoodClubStack/ExistingALB","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*","*"]},"children":{"Vpc":{"id":"Vpc","path":"DomainAustinFoodClubStack/ExistingALB/Vpc","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]},"children":{"PublicSubnet1":{"id":"PublicSubnet1","path":"DomainAustinFoodClubStack/ExistingALB/Vpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"DomainAustinFoodClubStack/ExistingALB/Vpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"DomainAustinFoodClubStack/ExistingALB/Vpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"DomainAustinFoodClubStack/ExistingALB/Vpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"SecurityGroup-sg-06637b2f46c0db82a":{"id":"SecurityGroup-sg-06637b2f46c0db82a","path":"DomainAustinFoodClubStack/ExistingALB/SecurityGroup-sg-06637b2f46c0db82a","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]},"children":{"from 0.0.0.0_0:443":{"id":"from 0.0.0.0_0:443","path":"DomainAustinFoodClubStack/ExistingALB/SecurityGroup-sg-06637b2f46c0db82a/from 0.0.0.0_0:443","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"cidrIp":"0.0.0.0/0","description":"Allow from anyone on port 443","fromPort":443,"groupId":"sg-06637b2f46c0db82a","ipProtocol":"tcp","toPort":443}}}}},"HttpsListener":{"id":"HttpsListener","path":"DomainAustinFoodClubStack/ExistingALB/HttpsListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.215.0","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"DomainAustinFoodClubStack/ExistingALB/HttpsListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"certificates":[{"certificateArn":{"Ref":"AustinFoodClubCertificate012FBAFE"}}],"defaultActions":[{"type":"fixed-response","fixedResponseConfig":{"statusCode":"404","contentType":"text/plain","messageBody":"Not Found"}}],"loadBalancerArn":"arn:aws:elasticloadbalancing:us-east-1:229037375031:loadbalancer/app/ECSAus-Backe-9BcJbVFKkgWJ/006c12eec76d1aaf","port":443,"protocol":"HTTPS"}}}}}}},"MainDomainRecord":{"id":"MainDomainRecord","path":"DomainAustinFoodClubStack/MainDomainRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.215.0","metadata":[{"zone":"*","recordName":"*","target":"*"},{"zone":"*","recordName":"*","target":"*"}]},"children":{"Resource":{"id":"Resource","path":"DomainAustinFoodClubStack/MainDomainRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["AustinFoodClubDistribution35720819","DomainName"]}},"hostedZoneId":{"Ref":"AustinFoodClubHostedZone5538A47B"},"name":"austinfoodclub.com.","type":"A"}}}}},"AWSCloudFrontPartitionHostedZoneIdMap":{"id":"AWSCloudFrontPartitionHostedZoneIdMap","path":"DomainAustinFoodClubStack/AWSCloudFrontPartitionHostedZoneIdMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.215.0"}},"ApiDomainRecord":{"id":"ApiDomainRecord","path":"DomainAustinFoodClubStack/ApiDomainRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.215.0","metadata":[{"zone":"*","recordName":"*","target":"*"},{"zone":"*","recordName":"*","target":"*"}]},"children":{"Resource":{"id":"Resource","path":"DomainAustinFoodClubStack/ApiDomainRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":"Z35SXDOTRQ7X7K","dnsName":"dualstack.ECSAus-Backe-9BcJbVFKkgWJ-1172628832.us-east-1.elb.amazonaws.com"},"hostedZoneId":{"Ref":"AustinFoodClubHostedZone5538A47B"},"name":"api.austinfoodclub.com.","type":"A"}}}}},"WwwDomainRecord":{"id":"WwwDomainRecord","path":"DomainAustinFoodClubStack/WwwDomainRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CnameRecord","version":"2.215.0","metadata":[{"zone":"*","recordName":"*","domainName":"*"},{"zone":"*","recordName":"*","domainName":"*"}]},"children":{"Resource":{"id":"Resource","path":"DomainAustinFoodClubStack/WwwDomainRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"hostedZoneId":{"Ref":"AustinFoodClubHostedZone5538A47B"},"name":"www.austinfoodclub.com.","resourceRecords":["austinfoodclub.com"],"ttl":"1800","type":"CNAME"}}}}},"HostedZoneId":{"id":"HostedZoneId","path":"DomainAustinFoodClubStack/HostedZoneId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"NameServers":{"id":"NameServers","path":"DomainAustinFoodClubStack/NameServers","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CertificateArn":{"id":"CertificateArn","path":"DomainAustinFoodClubStack/CertificateArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CloudFrontDomainName":{"id":"CloudFrontDomainName","path":"DomainAustinFoodClubStack/CloudFrontDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"MainDomainUrl":{"id":"MainDomainUrl","path":"DomainAustinFoodClubStack/MainDomainUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"ApiDomainUrl":{"id":"ApiDomainUrl","path":"DomainAustinFoodClubStack/ApiDomainUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"DomainAustinFoodClubStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"DomainAustinFoodClubStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"DomainAustinFoodClubStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"DomainAustinFoodClubStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"MonitoringAustinFoodClubStack":{"id":"MonitoringAustinFoodClubStack","path":"MonitoringAustinFoodClubStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"AlertTopic":{"id":"AlertTopic","path":"MonitoringAustinFoodClubStack/AlertTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.215.0","metadata":[{"topicName":"*","displayName":"*"}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/AlertTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"Austin Food Club Alerts","topicName":"austin-food-club-alerts"}}}}},"ApplicationLogGroup":{"id":"ApplicationLogGroup","path":"MonitoringAustinFoodClubStack/ApplicationLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*","retention":14}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/ApplicationLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/ecs/austin-food-club/application","retentionInDays":14}}}}},"AccessLogGroup":{"id":"AccessLogGroup","path":"MonitoringAustinFoodClubStack/AccessLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*","retention":7}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/AccessLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/ecs/austin-food-club/access","retentionInDays":7}}}}},"ErrorLogGroup":{"id":"ErrorLogGroup","path":"MonitoringAustinFoodClubStack/ErrorLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*","retention":30}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/ErrorLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/ecs/austin-food-club/errors","retentionInDays":30}}}}},"AustinFoodClubDashboard":{"id":"AustinFoodClubDashboard","path":"MonitoringAustinFoodClubStack/AustinFoodClubDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.215.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"},"*","*","*","*"]}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/AustinFoodClubDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"ECS Service Metrics\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ECS\",\"CPUUtilization\",\"ClusterName\",\"austin-food-club-cluster\",\"ServiceName\",\"austin-food-club-backend\"],[\"AWS/ECS\",\"MemoryUtilization\",\"ClusterName\",\"austin-food-club-cluster\",\"ServiceName\",\"austin-food-club-backend\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"ALB Metrics\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ApplicationELB\",\"RequestCount\",\"LoadBalancer\",\"ECSAus-Backe-9BcJbVFKkgWJ\",{\"period\":60,\"stat\":\"Sum\"}],[\"AWS/ApplicationELB\",\"TargetResponseTime\",\"LoadBalancer\",\"ECSAus-Backe-9BcJbVFKkgWJ\",{\"period\":60}],[\"AWS/ApplicationELB\",\"HTTPCode_Target_5XX_Count\",\"LoadBalancer\",\"ECSAus-Backe-9BcJbVFKkgWJ\",{\"period\":60,\"stat\":\"Sum\",\"yAxis\":\"right\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"RDS Metrics\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/RDS\",\"CPUUtilization\",\"DBInstanceIdentifier\",\"ecsaustinfoodclubstack-databaseb269d8bb-md52w78dfjlx\"],[\"AWS/RDS\",\"DatabaseConnections\",\"DBInstanceIdentifier\",\"ecsaustinfoodclubstack-databaseb269d8bb-md52w78dfjlx\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":12,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Application Metrics\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AustinFoodClub/API\",\"ResponseTime\",{\"period\":60}],[\"AustinFoodClub/Restaurants\",\"QueueSize\"],[\"AustinFoodClub/API\",\"ErrorCount\",{\"period\":60,\"stat\":\"Sum\",\"yAxis\":\"right\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":12,\"height\":6,\"x\":0,\"y\":12,\"properties\":{\"view\":\"timeSeries\",\"title\":\"CloudFront Requests\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/CloudFront\",\"Requests\",\"DistributionId\",\"E1234567890ABC\",{\"stat\":\"Sum\"}]],\"yAxis\":{}}}]}"]]},"dashboardName":"Austin-Food-Club-Production"}}}}},"HighCpuAlarm":{"id":"HighCpuAlarm","path":"MonitoringAustinFoodClubStack/HighCpuAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[{"metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","alarmDescription":"*","alarmName":"*"},{"addAlarmAction":[{}]}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/HighCpuAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlertTopic2720D535"}],"alarmDescription":"High CPU utilization on ECS service","alarmName":"austin-food-club-high-cpu","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"ClusterName","value":"austin-food-club-cluster"},{"name":"ServiceName","value":"austin-food-club-backend"}],"evaluationPeriods":2,"metricName":"CPUUtilization","namespace":"AWS/ECS","period":300,"statistic":"Average","threshold":80}}}}},"HighMemoryAlarm":{"id":"HighMemoryAlarm","path":"MonitoringAustinFoodClubStack/HighMemoryAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[{"metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","alarmDescription":"*","alarmName":"*"},{"addAlarmAction":[{}]}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/HighMemoryAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlertTopic2720D535"}],"alarmDescription":"High memory utilization on ECS service","alarmName":"austin-food-club-high-memory","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"ClusterName","value":"austin-food-club-cluster"},{"name":"ServiceName","value":"austin-food-club-backend"}],"evaluationPeriods":2,"metricName":"MemoryUtilization","namespace":"AWS/ECS","period":300,"statistic":"Average","threshold":85}}}}},"HighResponseTimeAlarm":{"id":"HighResponseTimeAlarm","path":"MonitoringAustinFoodClubStack/HighResponseTimeAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[{"metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","alarmDescription":"*","alarmName":"*"},{"addAlarmAction":[{}]}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/HighResponseTimeAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlertTopic2720D535"}],"alarmDescription":"High response time on ALB","alarmName":"austin-food-club-high-response-time","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"LoadBalancer","value":"ECSAus-Backe-9BcJbVFKkgWJ"}],"evaluationPeriods":3,"metricName":"TargetResponseTime","namespace":"AWS/ApplicationELB","period":60,"statistic":"Average","threshold":2}}}}},"HighErrorRateAlarm":{"id":"HighErrorRateAlarm","path":"MonitoringAustinFoodClubStack/HighErrorRateAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[{"metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","alarmDescription":"*","alarmName":"*"},{"addAlarmAction":[{}]}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/HighErrorRateAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlertTopic2720D535"}],"alarmDescription":"High error rate on ALB","alarmName":"austin-food-club-high-error-rate","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"LoadBalancer","value":"ECSAus-Backe-9BcJbVFKkgWJ"}],"evaluationPeriods":2,"metricName":"HTTPCode_Target_5XX_Count","namespace":"AWS/ApplicationELB","period":60,"statistic":"Sum","threshold":10}}}}},"RdsHighCpuAlarm":{"id":"RdsHighCpuAlarm","path":"MonitoringAustinFoodClubStack/RdsHighCpuAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[{"metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","alarmDescription":"*","alarmName":"*"},{"addAlarmAction":[{}]}]},"children":{"Resource":{"id":"Resource","path":"MonitoringAustinFoodClubStack/RdsHighCpuAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"AlertTopic2720D535"}],"alarmDescription":"High CPU utilization on RDS","alarmName":"austin-food-club-rds-high-cpu","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"DBInstanceIdentifier","value":"ecsaustinfoodclubstack-databaseb269d8bb-md52w78dfjlx"}],"evaluationPeriods":2,"metricName":"CPUUtilization","namespace":"AWS/RDS","period":300,"statistic":"Average","threshold":75}}}}},"AlertTopicArn":{"id":"AlertTopicArn","path":"MonitoringAustinFoodClubStack/AlertTopicArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"DashboardUrl":{"id":"DashboardUrl","path":"MonitoringAustinFoodClubStack/DashboardUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"LogGroupNames":{"id":"LogGroupNames","path":"MonitoringAustinFoodClubStack/LogGroupNames","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"MonitoringAustinFoodClubStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"MonitoringAustinFoodClubStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"MonitoringAustinFoodClubStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"MonitoringAustinFoodClubStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}